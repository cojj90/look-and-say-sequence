version: 2
jobs:
    javascript:
      working_directory: "~/ci-build"
      docker:
        - image: "circleci/node:10.5.0"
      steps:
        - run:
            name: "Setup NPMRC"
            command: "echo $NPMRC > ~/.npmrc"
        - checkout
        - run: cd javascript
        - run:
            name: "NPM: Install dependencies"
            command: "npm ci"
        - run: npm lint
        - run: npm test
workflows:
  version: 2
  build_and_test:
    jobs:
      - javascript